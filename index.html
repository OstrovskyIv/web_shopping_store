<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Хижина Чудес | Gravity Falls</title>
    <link href="https://fonts.googleapis.com/css2?family=MedievalSharp&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div id="app">
        <!-- Хедер будет общим для всех страниц -->
        <header>
            <div class="logo">
                <router-link to="/">
                    <img src="pictures/LoGo.png" alt="Логотип Хижины чудес">
                </router-link>
            </div>
            <nav>
                <ul>
                    <li><router-link to="/">Главная</router-link></li>
                    <li><router-link to="/shop">Товары</router-link></li>
                    <li><router-link to="/basket">Корзина</router-link></li>
                    <li><router-link to="/account"><i class="fas fa-user"></i> Аккаунт</router-link></li>
                </ul>
            </nav>
        </header>

        <!-- Основное содержимое будет меняться в зависимости от маршрута -->
        <main>
            <router-view></router-view>
        </main>

        <!-- Футер общий для всех страниц -->
        <footer class="footer">
            <p>&copy; Сайт создан для фанатов Gravity Falls и не связан с Disney</p>
            <div class="social-icons">
                <a href="https://t.me/Bambuk_lov" class="flip-cover-telegram" target="_blank">
                    <i class="fab fa-telegram"></i>
                </a>
                <a href="https://www.instagram.com/bamboo__o_o/" class="flip-cover-instagram" target="_blank">
                    <i class="fab fa-instagram"></i>
                </a>
                <a href="https://github.com/OstrovskyIv" class="flip-cover-github" target="_blank">
                    <i class="fab fa-github"></i>
                </a>
                <a href="mailto:ostrovskyiml@gmail.com" class="flip-cover-gmail" target="_blank">
                    <i class="fas fa-envelope"></i>
                </a>
                <a href="https://discord.gg/FqbDXtj6vb" class="flip-cover-discord" target="_blank">
                    <i class="fab fa-discord"></i>
                </a>
            </div>
        </footer>

        <!-- Модальные окна -->
        <div id="modal" class="modal" v-if="showModal">
            <div class="modal-content">
                <span class="close" @click="closeModal">&times;</span>
                <p>{{ modalText }}</p>
            </div>
        </div>

        <div id="registrationModal" class="modal" v-if="showRegistrationModal">
            <div class="modal-content">
                <span class="close" @click="closeRegistrationModal">&times;</span>
                <h2>Регистрация:</h2>
                <form id="registrationForm" @submit.prevent="register">
                    <label for="username">Ваше имя:</label>
                    <input type="text" id="username" v-model="registration.username" required>

                    <label for="email">Email:</label>
                    <input type="email" id="email" v-model="registration.email" required>

                    <label for="password">Пароль:</label>
                    <input type="password" id="password" v-model="registration.password" required>

                    <button type="submit">Зарегистрироваться</button>
                </form>
            </div>
        </div>

        <div id="loginModal" class="modal" v-if="showLoginModal">
            <div class="modal-content">
                <span class="close" @click="closeLoginModal">&times;</span>
                <h2>Вход:</h2>
                <form id="loginForm" @submit.prevent="login">
                    <label for="loginEmail">Email:</label>
                    <input type="email" id="loginEmail" v-model="loginData.email" required>

                    <label for="loginPassword">Пароль:</label>
                    <input type="password" id="loginPassword" v-model="loginData.password" required>

                    <button type="submit">Войти</button>
                </form>
            </div>
        </div>

        <div id="productModal" class="modal" v-if="showProductModal">
            <div class="modal-content">
                <span class="close" @click="closeProductModal">&times;</span>
                <h2>{{ currentProduct.name }}</h2>
                <img :src="currentProduct.image" :alt="currentProduct.name" class="modal-product-image">
                <p class="modal-description">{{ currentProduct.description }}</p>
                <p class="modal-price">{{ currentProduct.price }} $</p>
                <button class="modal-order-btn" @click="addToCart(currentProduct)">В корзину</button>
            </div>
        </div>

        <div class="modal-overlay" id="detailsModal" v-if="showExcursionDetailsModal">
            <div class="details-modal">
                <div class="details-modal-content">
                    <div class="details-modal-header">
                        <h2 class="details-modal-title">{{ currentExcursion.title }}</h2>
                        <button class="close-modal-btn" @click="closeExcursionModal">&times;</button>
                    </div>
                    <div class="details-modal-body">
                        <img :src="currentExcursion.photos[0]" :alt="currentExcursion.title" class="details-modal-image">
                        <p class="details-modal-description">
                            {{ currentExcursion.description }}
                        </p>
                        <div class="details-modal-features">
                            <div class="feature-item">
                                <i class="fas fa-clock feature-icon"></i>
                                <span>Продолжительность: {{ currentExcursion.duration }}</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="modal-overlay" id="bookingModal" v-if="showBookingModal">
            <div class="booking-modal">
                <div class="booking-modal-content">
                    <div class="booking-modal-header">
                        <h2 class="booking-modal-title">Оформление экскурсии</h2>
                    </div>
                    <form id="bookingForm" @submit.prevent="bookExcursion">
                        <div class="booking-form-group">
                            <label for="bookingDate">Дата экскурсии:</label>
                            <input type="date" id="bookingDate" v-model="booking.date" required>
                        </div>
                        <div class="booking-form-group">
                            <label for="bookingTime">Время:</label>
                            <input type="time" id="bookingTime" v-model="booking.time" required>
                        </div>
                        <div class="booking-form-group">
                            <label for="bookingPeople">Количество человек:</label>
                            <input type="number" id="bookingPeople" v-model="booking.people" min="1" required>
                        </div>
                        <div class="booking-form-actions">
                            <button type="submit" class="booking-submit-btn">Забронировать</button>
                            <button type="button" class="booking-cancel-btn" @click="closeBookingModal">Отмена</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Подключаем Vue и Vue Router -->
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="https://unpkg.com/vue-router@4"></script>
    
    <!-- Подключаем наши скрипты -->
    <script src="js/app.js"></script>
    <script src="js/components/Home.vue"></script>
    <script src="js/components/Shop.vue"></script>
    <script src="js/components/Basket.vue"></script>
    <script src="js/components/Account.vue"></script>
</body>
</html>